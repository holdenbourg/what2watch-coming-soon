:root {
  --white: #fff;
  --border: rgba(255,255,255,0.5);
  --panel-blur: 3px;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html, body { height: 100%; }

html[data-fonts="loading"] #i18n-heading,
html[data-fonts="loading"] #i18n-email-label,
html[data-fonts="loading"] #i18n-submit,
html[data-fonts="loading"] #i18n-lang { visibility: hidden; }

body {
  font-family: "Poppins", sans-serif;
  min-height: 100dvh;
  background: url('/assets/images/main-background.jpg') center/cover no-repeat fixed;
  display: grid;
  place-items: center;
  color: var(--white);
}

.wrapper {
  position: relative;
  width: 20.8%;
  min-width: 320px;

  /* shorter overall height so less space above title */
  height: 44%;                /* was 48% */
  min-height: 400px;          /* was 420px */

  background: transparent;
  border: 0.15vw solid var(--border);
  border-radius: 20px;
  backdrop-filter: blur(var(--panel-blur));
  box-shadow: 0 0 30px rgba(0,0,0,0.5);
  display: grid;
  place-items: center;
  overflow: hidden;

  /* reduce padding so title sits higher */
  padding: 1.6vw;             /* was 2.05vw */
}

.form-box { width: 100%; }

/* ---------- Banner with more top room & input-matching font ---------- */
.warning-banner {
  min-height: clamp(28px, 2.2vw, 40px);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;

  /* match input font-size */
  font-size: clamp(14px, 0.85vw, 18px);
  font-weight: 600;
  letter-spacing: 0.01em;

  /* more room above so not pressed against title */
  margin: 24px 0 10px; /* was 18px 0 10px */

  opacity: 0;
  transition: opacity .4s ease;

  /* default color fallback */
  color: #6bff81;
}

/* keep the color fixed through fade-out by applying it in both states */
.warning-banner.error {
  color: #ff6b6b;
}
.warning-banner.success {
  color: #6bff81;
}

/* donâ€™t change color when hiding, only opacity */
.warning-banner.show {
  opacity: 1;
}

/* ---------- TITLE WITH TRUE FLOOR ---------- */
.title-floor {
  --h2-lh: 1.2;
  position: relative;
  height: calc(var(--h2-lh) * 1em); /* one-line floor */
  margin-bottom: clamp(10px, 1.2vw, 18px);
}

.form-title {
  font-size: clamp(18px, 1.6vw, 28px);
  line-height: var(--h2-lh);
  margin: 0;
  position: absolute;
  inset-inline: 0;
  bottom: 0;
  text-align: center;
}

.form-title .i18n-wrap  { position: relative; display: block; }
.form-title .i18n-layer {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity .6s ease-in-out; /* no vertical animation */
  text-align: center;
  will-change: opacity;
}
.form-title .i18n-layer.is-current { opacity: 1; }

/* ---------- Input + floating label ---------- */
.input-box {
  position: relative;
  width: 100%;
  height: 2.5vw;
  min-height: 38px;
  border-bottom: 0.15vw solid #fff;
  margin: 1.0vw 0;
}
.input-box input {
  width: 100%;
  height: 100%;
  background: transparent;
  border: none;
  outline: none;
  color: var(--white);
  font-weight: 600;
  font-size: clamp(14px, 0.85vw, 18px);
  padding-inline: 5px 6px;
  text-align: start;
}

/* Label fade up a hair higher */
.input-box label {
  position: absolute;
  top: 50%;
  inset-inline: 5px;
  transform: translateY(-50%);
  height: 1em;
  line-height: 1;
  white-space: nowrap;
  pointer-events: none;

  opacity: 0.9;
  transition:
    top .28s ease,
    transform .28s ease,
    opacity .28s ease;
}
.input-box input:focus ~ label,
.input-box input:not(:placeholder-shown) ~ label {
  top: -12px;   /* slightly higher */
  transform: none;
  opacity: 0.82;
}

/* Optional i18n layers inside label */
.input-box label .i18n-wrap { position: relative; display: block; width: 100%; height: 100%; }
.input-box label .i18n-layer {
  position: absolute; inset: 0; display: block; opacity: 0; transition: opacity .6s ease-in-out;
  text-align: start; direction: inherit; white-space: nowrap;
}
.input-box label .i18n-layer.is-current { opacity: 1; }

/* RTL input alignment */
[dir="rtl"] .input-box input { direction: rtl; text-align: right; padding-right: 6px; padding-left: 5px; }
[dir="rtl"] .input-box label { left: auto; right: 5px; text-align: right; transform: translateY(-50%); }

/* ---------- Button centered ---------- */
.button {
  width: 100%;
  height: clamp(36px, 2.4vw, 56px);
  background: transparent;
  border: 0.15vw solid var(--white);
  color: var(--white);
  font-weight: 600;
  border-radius: 6px;
  cursor: pointer;
  backdrop-filter: blur(10px);
  box-shadow: 0 0 30px rgba(0,0,0,0.5);
  transition: transform 0.2s ease, font-size 0.2s ease, opacity 0.2s ease;
  font-size: clamp(14px, 0.85vw, 18px);
  position: relative;
  overflow: hidden;
  text-align: center;
  margin-top: clamp(8px, 0.8vw, 12px);
}
.button:hover { transform: scale(1.015); }
.button:disabled { opacity: .6; cursor: not-allowed; }

.button .i18n-wrap { position: absolute; inset: 0; display: grid; place-items: center; }
.button .i18n-layer { position: absolute; inset: 0; display: grid; place-items: center; opacity: 0; transition: opacity .6s ease-in-out; text-align: center; }
.button .i18n-layer.is-current { opacity: 1; }

/* ---------- Lang chip right ---------- */
.lang-chip { margin-top: 10px; opacity: .85; font-size: 12px; color: #fff; position: relative; text-align: right; }
.lang-chip #i18n-lang .i18n-wrap { position: absolute; inset: 0; text-align: right; }
.lang-chip #i18n-lang .i18n-layer { position: absolute; inset: 0; text-align: right; opacity: 0; transition: opacity .6s ease-in-out; }
.lang-chip #i18n-lang .i18n-layer.is-current { opacity: 1; }

.small-print { text-align: center; font-size: clamp(11px, .75vw, 14px); opacity: .9; margin-top: 12px; }

@media (max-width: 1024px) {
  .wrapper { width: min(92vw, 520px); height: auto; min-height: 400px; }
}